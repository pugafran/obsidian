---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠==


# Text Elements
El cliente le envía al servidor una serie de opciones:
algoritmos de cifrado, de compresión, autentificación identificador de sesión si procede, semilla, etc..
(Manejo AES, tal versión tal longitud, MAC MD5 para autentificacion. ^hi0LwqML

El servidor va a hacer elecciones, elige una opción de cada y lo devuelve al cliente, numeros aleatorios
para las semillas, longitudes de claves, lleva elecciones. ^W6V0pwP3

El servidor envía su clave pública (asimétrica) tipicamente para nosotros RSA típicamente. ^QEuaud5q

Mensaje vacío que marca un punto en el protocolo en el que el servidor le pasa el testigo
al cliente, a partir de ahí el cliente continua la comunicación ^ucjrHL6q

Parece igual que el 3 pero no, en este lo que va es una clave simétrica que van a compartir
cliente y servidor, que tipicamente va a ser AES, elegida por el cliente, es una clave que no
va en plano, va cifrado por la clave pública que se le dio en 3. ^pjRnR2Ik

1 ^4LCG9Oc9

2 ^eONpbWgs

3 ^6idtYqEK

4 ^4A3YYDD9

5 ^48FQbBWu

6 ^xwyQXq0u

Con este mensaje el cliente le envía al servidor que cambien a modo cifrado segun las 
especificaciones del cliente, lo siguiente que mande el cliente irá cifrado con AES, con la clave simétrica.
El servidor a partir de este mensaje tiene que comprender que o descifra o no va a entender ni mierda. ^yFEr92Vq

Es un mensaje de integridad, lo que contiene es un hash calculado por el cliente de cierta informacion
intercambiada entre el cliente y el servidor, las opciones por ejemplo, las claves, es informacion que tienen
tanto cliente como servidor. Va cifrado, el primero ^4UibMSkz

7 ^LqJHkSwR

8 A partir de ese momento  ^0n4dHMNF

changecypher en serverhello en tls 1.3 handshake, lo hace ya todo en las dos primeras lineas ^qsmw0Gjq

da por hecho el handshake este que el servidor siempre se utiliza ^fGg8922u

%%
# Drawing
```json
{
	"type": "excalidraw",
	"version": 2,
	"source": "https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/1.8.19",
	"elements": [
		{
			"id": "hi0LwqML",
			"type": "text",
			"x": -284.87109375,
			"y": -221.2578125,
			"width": 989.4991455078125,
			"height": 72,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 2007243380,
			"version": 267,
			"versionNonce": 729076428,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330072362,
			"link": null,
			"locked": false,
			"text": "El cliente le envía al servidor una serie de opciones:\nalgoritmos de cifrado, de compresión, autentificación identificador de sesión si procede, semilla, etc..\n(Manejo AES, tal versión tal longitud, MAC MD5 para autentificacion.",
			"rawText": "El cliente le envía al servidor una serie de opciones:\nalgoritmos de cifrado, de compresión, autentificación identificador de sesión si procede, semilla, etc..\n(Manejo AES, tal versión tal longitud, MAC MD5 para autentificacion.",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "El cliente le envía al servidor una serie de opciones:\nalgoritmos de cifrado, de compresión, autentificación identificador de sesión si procede, semilla, etc..\n(Manejo AES, tal versión tal longitud, MAC MD5 para autentificacion."
		},
		{
			"id": "W6V0pwP3",
			"type": "text",
			"x": -285.38671875,
			"y": -83.34765625,
			"width": 1024.13916015625,
			"height": 48,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 28560756,
			"version": 282,
			"versionNonce": 1711370612,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330075359,
			"link": null,
			"locked": false,
			"text": "El servidor va a hacer elecciones, elige una opción de cada y lo devuelve al cliente, numeros aleatorios\npara las semillas, longitudes de claves, lleva elecciones.",
			"rawText": "El servidor va a hacer elecciones, elige una opción de cada y lo devuelve al cliente, numeros aleatorios\npara las semillas, longitudes de claves, lleva elecciones.",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "El servidor va a hacer elecciones, elige una opción de cada y lo devuelve al cliente, numeros aleatorios\npara las semillas, longitudes de claves, lleva elecciones."
		},
		{
			"id": "QEuaud5q",
			"type": "text",
			"x": -282.0625,
			"y": 19.69921875,
			"width": 900.2791748046875,
			"height": 24,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 1429938932,
			"version": 119,
			"versionNonce": 793717620,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330108702,
			"link": null,
			"locked": false,
			"text": "El servidor envía su clave pública (asimétrica) tipicamente para nosotros RSA típicamente.",
			"rawText": "El servidor envía su clave pública (asimétrica) tipicamente para nosotros RSA típicamente.",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "El servidor envía su clave pública (asimétrica) tipicamente para nosotros RSA típicamente."
		},
		{
			"id": "ucjrHL6q",
			"type": "text",
			"x": -279.55078125,
			"y": 85.3984375,
			"width": 901.0792236328125,
			"height": 48,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 996793420,
			"version": 264,
			"versionNonce": 1209123956,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330147202,
			"link": null,
			"locked": false,
			"text": "Mensaje vacío que marca un punto en el protocolo en el que el servidor le pasa el testigo\nal cliente, a partir de ahí el cliente continua la comunicación",
			"rawText": "Mensaje vacío que marca un punto en el protocolo en el que el servidor le pasa el testigo\nal cliente, a partir de ahí el cliente continua la comunicación",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "Mensaje vacío que marca un punto en el protocolo en el que el servidor le pasa el testigo\nal cliente, a partir de ahí el cliente continua la comunicación"
		},
		{
			"id": "pjRnR2Ik",
			"type": "text",
			"x": -280,
			"y": 181.7421875,
			"width": 931.5193481445312,
			"height": 72,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 896693068,
			"version": 301,
			"versionNonce": 1600762444,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330219211,
			"link": null,
			"locked": false,
			"text": "Parece igual que el 3 pero no, en este lo que va es una clave simétrica que van a compartir\ncliente y servidor, que tipicamente va a ser AES, elegida por el cliente, es una clave que no\nva en plano, va cifrado por la clave pública que se le dio en 3.",
			"rawText": "Parece igual que el 3 pero no, en este lo que va es una clave simétrica que van a compartir\ncliente y servidor, que tipicamente va a ser AES, elegida por el cliente, es una clave que no\nva en plano, va cifrado por la clave pública que se le dio en 3.",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "Parece igual que el 3 pero no, en este lo que va es una clave simétrica que van a compartir\ncliente y servidor, que tipicamente va a ser AES, elegida por el cliente, es una clave que no\nva en plano, va cifrado por la clave pública que se le dio en 3."
		},
		{
			"id": "4LCG9Oc9",
			"type": "text",
			"x": -323.49609375,
			"y": -198.9609375,
			"width": 5.4199981689453125,
			"height": 24,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 1576876532,
			"version": 104,
			"versionNonce": 1604934388,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330248712,
			"link": null,
			"locked": false,
			"text": "1",
			"rawText": "1",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "1"
		},
		{
			"id": "eONpbWgs",
			"type": "text",
			"x": -329,
			"y": -66.03125,
			"width": 14.239990234375,
			"height": 24,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 581130444,
			"version": 13,
			"versionNonce": 250248140,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330246613,
			"link": null,
			"locked": false,
			"text": "2",
			"rawText": "2",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "2"
		},
		{
			"id": "6idtYqEK",
			"type": "text",
			"x": -332.8828125,
			"y": 22.03515625,
			"width": 13.6199951171875,
			"height": 24,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 1320254708,
			"version": 34,
			"versionNonce": 254379212,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330245329,
			"link": null,
			"locked": false,
			"text": "3",
			"rawText": "3",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "3"
		},
		{
			"id": "4A3YYDD9",
			"type": "text",
			"x": -330.23828125,
			"y": 103.59765625,
			"width": 12.79998779296875,
			"height": 24,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 485906764,
			"version": 29,
			"versionNonce": 109974644,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330243545,
			"link": null,
			"locked": false,
			"text": "4",
			"rawText": "4",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "4"
		},
		{
			"id": "48FQbBWu",
			"type": "text",
			"x": -329.48046875,
			"y": 216.15234375,
			"width": 12.3599853515625,
			"height": 24,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 2026993228,
			"version": 36,
			"versionNonce": 1858727796,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330241895,
			"link": null,
			"locked": false,
			"text": "5",
			"rawText": "5",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "5"
		},
		{
			"id": "xwyQXq0u",
			"type": "text",
			"x": -325.92578125,
			"y": 323.15625,
			"width": 12.79998779296875,
			"height": 24,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 1511927284,
			"version": 20,
			"versionNonce": 236623692,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330349467,
			"link": null,
			"locked": false,
			"text": "6",
			"rawText": "6",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "6"
		},
		{
			"id": "yFEr92Vq",
			"type": "text",
			"x": -278.60546875,
			"y": 300.734375,
			"width": 1034.759033203125,
			"height": 72,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 949802316,
			"version": 404,
			"versionNonce": 1626838132,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330347795,
			"link": null,
			"locked": false,
			"text": "Con este mensaje el cliente le envía al servidor que cambien a modo cifrado segun las \nespecificaciones del cliente, lo siguiente que mande el cliente irá cifrado con AES, con la clave simétrica.\nEl servidor a partir de este mensaje tiene que comprender que o descifra o no va a entender ni mierda.",
			"rawText": "Con este mensaje el cliente le envía al servidor que cambien a modo cifrado segun las \nespecificaciones del cliente, lo siguiente que mande el cliente irá cifrado con AES, con la clave simétrica.\nEl servidor a partir de este mensaje tiene que comprender que o descifra o no va a entender ni mierda.",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "Con este mensaje el cliente le envía al servidor que cambien a modo cifrado segun las \nespecificaciones del cliente, lo siguiente que mande el cliente irá cifrado con AES, con la clave simétrica.\nEl servidor a partir de este mensaje tiene que comprender que o descifra o no va a entender ni mierda."
		},
		{
			"id": "4UibMSkz",
			"type": "text",
			"x": -274.44921875,
			"y": 411.453125,
			"width": 1049.4791259765625,
			"height": 72,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 1082012748,
			"version": 372,
			"versionNonce": 1770019020,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330415030,
			"link": null,
			"locked": false,
			"text": "Es un mensaje de integridad, lo que contiene es un hash calculado por el cliente de cierta informacion\nintercambiada entre el cliente y el servidor, las opciones por ejemplo, las claves, es informacion que tienen\ntanto cliente como servidor. Va cifrado, el primero",
			"rawText": "Es un mensaje de integridad, lo que contiene es un hash calculado por el cliente de cierta informacion\nintercambiada entre el cliente y el servidor, las opciones por ejemplo, las claves, es informacion que tienen\ntanto cliente como servidor. Va cifrado, el primero",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "Es un mensaje de integridad, lo que contiene es un hash calculado por el cliente de cierta informacion\nintercambiada entre el cliente y el servidor, las opciones por ejemplo, las claves, es informacion que tienen\ntanto cliente como servidor. Va cifrado, el primero"
		},
		{
			"id": "LqJHkSwR",
			"type": "text",
			"x": -325.73046875,
			"y": 433.96484375,
			"width": 10.759994506835938,
			"height": 24,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 1246449740,
			"version": 29,
			"versionNonce": 1065386228,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330402679,
			"link": null,
			"locked": false,
			"text": "7",
			"rawText": "7",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "7"
		},
		{
			"id": "0n4dHMNF",
			"type": "text",
			"x": -310,
			"y": 546.7421875,
			"width": 278.6197814941406,
			"height": 24,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 1937872332,
			"version": 31,
			"versionNonce": 667240268,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698330581131,
			"link": null,
			"locked": false,
			"text": "8 A partir de ese momento ",
			"rawText": "8 A partir de ese momento ",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "8 A partir de ese momento "
		},
		{
			"id": "qsmw0Gjq",
			"type": "text",
			"x": -441.5078125,
			"y": 1117.48828125,
			"width": 915.939208984375,
			"height": 24,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 38933748,
			"version": 147,
			"versionNonce": 1180292428,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698332054972,
			"link": null,
			"locked": false,
			"text": "changecypher en serverhello en tls 1.3 handshake, lo hace ya todo en las dos primeras lineas",
			"rawText": "changecypher en serverhello en tls 1.3 handshake, lo hace ya todo en las dos primeras lineas",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "changecypher en serverhello en tls 1.3 handshake, lo hace ya todo en las dos primeras lineas"
		},
		{
			"id": "LwQwEB4Sz3idYUAzSlXrR",
			"type": "line",
			"x": -487.4609375,
			"y": 1095.9453125,
			"width": 940.12890625,
			"height": 18.05078125,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": {
				"type": 2
			},
			"seed": 562645964,
			"version": 41,
			"versionNonce": 1961094604,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698332093839,
			"link": null,
			"locked": false,
			"points": [
				[
					0,
					0
				],
				[
					940.12890625,
					-18.05078125
				]
			],
			"lastCommittedPoint": null,
			"startBinding": null,
			"endBinding": null,
			"startArrowhead": null,
			"endArrowhead": null
		},
		{
			"id": "fGg8922u",
			"type": "text",
			"x": -430,
			"y": 1186.7421875,
			"width": 652.239501953125,
			"height": 24,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 1469769332,
			"version": 90,
			"versionNonce": 1493526732,
			"isDeleted": false,
			"boundElements": null,
			"updated": 1698332107489,
			"link": null,
			"locked": false,
			"text": "da por hecho el handshake este que el servidor siempre se utiliza",
			"rawText": "da por hecho el handshake este que el servidor siempre se utiliza",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": "da por hecho el handshake este que el servidor siempre se utiliza"
		},
		{
			"id": "P4MRUwDL",
			"type": "text",
			"x": -237,
			"y": 342.7421875,
			"width": 10,
			"height": 24,
			"angle": 0,
			"strokeColor": "#000000",
			"backgroundColor": "transparent",
			"fillStyle": "hachure",
			"strokeWidth": 1,
			"strokeStyle": "solid",
			"roughness": 1,
			"opacity": 100,
			"groupIds": [],
			"roundness": null,
			"seed": 2059237452,
			"version": 2,
			"versionNonce": 875430516,
			"isDeleted": true,
			"boundElements": null,
			"updated": 1698330282969,
			"link": null,
			"locked": false,
			"text": "",
			"rawText": "",
			"fontSize": 20,
			"fontFamily": 1,
			"textAlign": "left",
			"verticalAlign": "top",
			"containerId": null,
			"originalText": ""
		}
	],
	"appState": {
		"theme": "light",
		"viewBackgroundColor": "#ffffff",
		"currentItemStrokeColor": "#000000",
		"currentItemBackgroundColor": "transparent",
		"currentItemFillStyle": "hachure",
		"currentItemStrokeWidth": 1,
		"currentItemStrokeStyle": "solid",
		"currentItemRoughness": 1,
		"currentItemOpacity": 100,
		"currentItemFontFamily": 1,
		"currentItemFontSize": 20,
		"currentItemTextAlign": "left",
		"currentItemStartArrowhead": null,
		"currentItemEndArrowhead": "arrow",
		"scrollX": 707,
		"scrollY": -944.2578125,
		"zoom": {
			"value": 1
		},
		"currentItemRoundness": "round",
		"gridSize": null,
		"colorPalette": {},
		"currentStrokeOptions": null,
		"previousGridSize": null
	},
	"files": {}
}
```
%%